<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="manual">
<meta name="generator" content="Paradox, paradox-material-theme=0.6.0, mkdocs-material=3.0.3">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.language" content="">
<meta name="lang:search.pipeline.stopwords" content="true">
<meta name="lang:search.pipeline.trimmer" content="true">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="manual">
<link rel="shortcut icon" href="assets/images/favicon.png">
<title>Algebras and interpreters · endpoints4s</title>
<link rel="stylesheet" href="assets/stylesheets/application.451f80e5.css">
<link rel="stylesheet" href="lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="lib/prettify/prettify.css">
<script src="assets/javascripts/modernizr.1aa3b519.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="assets/fonts/font-awesome.css">
<link rel="stylesheet" href="assets/fonts/material-icons.css">
<link rel="stylesheet" href="assets/stylesheets/paradox-material-theme.css">
<link rel="stylesheet" href="snippets.css">
</head>
<body
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="index.html" title="endpoints4s" class="md-header-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
endpoints4s
</span>
<span class="md-header-nav__topic">
Algebras and interpreters
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
<label class="md-icon md-search__icon" for="__search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/endpoints4s/endpoints4s"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
endpoints4s/endpoints4s
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<a href="index.html" title="endpoints4s" class="md-nav__button md-logo">
<span class="md-nav__button md-logo">
<i class="md-icon">local_library</i>
</a>
<a href="index.html" title="endpoints4s">
endpoints4s
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/endpoints4s/endpoints4s"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
endpoints4s/endpoints4s
</div>
</a>

</div>
<ul>
  <li><a href="use-cases.html" class="page">Use Cases</a></li>
  <li><a href="quick-start.html" class="page">Quick start</a></li>
  <li><a href="design.html" class="page">Design in a nutshell</a></li>
  <li><a href="algebras-and-interpreters.html" class="active page">Algebras and interpreters</a>
  <ul>
    <li><a href="algebras/endpoints.html" class="page"><code>Endpoints</code></a></li>
    <li><a href="algebras/json-entities.html" class="page">JSON Entities</a></li>
    <li><a href="algebras/json-schemas.html" class="page">JSON Schemas</a></li>
    <li><a href="algebras/chunked-entities.html" class="page">Chunked Entities</a></li>
    <li><a href="algebras/middlewares.html" class="page">Middlewares</a></li>
    <li><a href="algebras/assets.html" class="page">Assets</a></li>
    <li><a href="algebras/mux-endpoints.html" class="page">Multiplexed Endpoints</a></li>
    <li><a href="interpreters/pekko-http.html" class="page">Pekko HTTP</a></li>
    <li><a href="interpreters/http4s.html" class="page">http4s</a></li>
    <li><a href="interpreters/scalajs-web-fetch.html" class="page">Scala.js web client (Fetch)</a></li>
    <li><a href="interpreters/sttp.html" class="page">sttp</a></li>
    <li><a href="interpreters/openapi.html" class="page">OpenAPI</a></li>
    <li><a href="interpreters/circe.html" class="page">Circe</a></li>
    <li><a href="interpreters/play-json.html" class="page">Play JSON</a></li>
  </ul></li>
  <li><a href="guides.html" class="page">Guides</a>
  <ul>
    <li><a href="guides/tupler.html" class="page"><code>Tupler</code></a></li>
    <li><a href="guides/custom-authentication.html" class="page">Application-specific authentication</a></li>
  </ul></li>
  <li><a href="community.html" class="page">Community</a></li>
  <li><a href="comparison.html" class="page">Comparison with similar tools</a></li>
  <li><a href="talks.html" class="page">Talks and Articles</a></li>
  <li><a href="release-and-compatibility-notes.html" class="page">Release and Compatibility Notes</a></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="algebras-and-interpreters.html#algebras-and-interpreters" class="header">Algebras and interpreters</a>
  <ul>
    <li><a href="algebras-and-interpreters.html#naming-conventions" class="header">Naming conventions</a></li>
    <li><a href="algebras-and-interpreters.html#matching-algebras-and-interpreters" class="header">Matching Algebras and Interpreters</a></li>
    <li><a href="algebras-and-interpreters.html#algebras" class="header">Algebras</a></li>
    <li><a href="algebras-and-interpreters.html#interpreters" class="header">Interpreters</a></li>
  </ul></li>
</ul>
</nav>

</nav>
<ul style="display: none">
<li class="md-nav__item md-version" id="project.version">
<label class="md-nav__link" for="__version">
<i class="md-icon" title="Version">label_outline</i> 1.11.0
</label>
</li>
</ul>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul>
  <li><a href="algebras-and-interpreters.html#algebras-and-interpreters" class="header">Algebras and interpreters</a>
  <ul>
    <li><a href="algebras-and-interpreters.html#naming-conventions" class="header">Naming conventions</a></li>
    <li><a href="algebras-and-interpreters.html#matching-algebras-and-interpreters" class="header">Matching Algebras and Interpreters</a></li>
    <li><a href="algebras-and-interpreters.html#algebras" class="header">Algebras</a></li>
    <li><a href="algebras-and-interpreters.html#interpreters" class="header">Interpreters</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<h1><a href="#algebras-and-interpreters" name="algebras-and-interpreters" class="anchor"><span class="anchor-link"></span></a>Algebras and interpreters</h1>
<p>In endpoints4s, we call “algebra interfaces” (or just <strong>algebras</strong>) the traits that provide methods for constructing and combining descriptions of endpoints. You can find more details about the design of these algebras in the <a href="design.html">Design in a nutshell</a> page.</p>
<p>The concepts defined by algebras are given a concrete meaning by <strong>interpreters</strong>. In practice, we have three kinds of interpreters:</p>
<ul>
  <li><strong>clients</strong> building requests (their URL, headers and entity) and decoding responses,</li>
  <li><strong>servers</strong> decoding requests and building responses,</li>
  <li><strong>documentation</strong> in a machine-readable format.</li>
</ul>
<h2><a href="#naming-conventions" name="naming-conventions" class="anchor"><span class="anchor-link"></span></a>Naming conventions</h2>
<ul>
  <li>algebras are defined as traits in the <code>endpoints4s.algebra</code> package ;
    <ul>
      <li>e.g. the <a href="api/endpoints4s/algebra/Urls.html" title="endpoints4s.algebra.Urls"><code>`endpoints4s.algebra.Urls`</code></a> trait defines  an algebra for describing URLs.</li>
    </ul>
  </li>
  <li>algebras’ dependencies can be found in their super types ;</li>
  <li>interpreters are traits that have the same name as the algebra they  implement (they can be found by looking at the “known subclasses”  of an algebra, in the Scaladoc) ;
    <ul>
      <li>e.g. the <a href="api/endpoints4s/http4s/client/Urls.html" title="endpoints4s.http4s.client.Urls"><code>`endpoints4s.http4s.client.Urls`</code></a> trait  defines an http4s-based interpreter for the <code>Urls</code> algebra.</li>
    </ul>
  </li>
  <li>compatible interpreters are in the same package ;</li>
  <li>e.g. the <a href="api/endpoints4s/http4s/client/index.html" title="endpoints4s.http4s.client"><code>`endpoints4s.http4s.client`</code></a> package provides client interpreters that are all based on <a href="https://http4s.org">http4s</a> under the hood.</li>
</ul>
<h2><a href="#matching-algebras-and-interpreters" name="matching-algebras-and-interpreters" class="anchor"><span class="anchor-link"></span></a>Matching Algebras and Interpreters</h2>
<p>To define endpoint descriptions you need to select which algebras you need. For instance:</p>
<pre class="prettyprint"><code class="language-scala">import endpoints4s.algebra

trait MyCustomAlgebra extends algebra.Endpoints
  with algebra.JsonEntitiesFromSchemas
  with algebra.BasicAuthentication
</code></pre>
<p>Then, to interpret the endpoint descriptions you need to build an interpreter that matches this algebra. By following the aforementioned naming conventions, you should be looking for all the traits that have the same names as your algebra modules and that are in the package of the interpreter you want to use. For instance, to build an Pekko-HTTP server:</p>
<pre class="prettyprint"><code class="language-scala">import endpoints4s.pekkohttp.server

trait MyPekkoHttpServer extends MyCustomAlgebra
  with server.Endpoints
  with server.JsonEntitiesFromSchemas
  with server.BasicAuthentication
</code></pre><div class="callout warning "><div class="callout-title">Warning</div>
<p>If you try to mix an interpreter module that doesn’t match your algebra the compiler will raise “conflicting inherited members” errors.</p></div>
<h2><a href="#algebras" name="algebras" class="anchor"><span class="anchor-link"></span></a>Algebras</h2>
<p>Algebras form a <strong>hierarchy</strong>: it is possible to extend an algebra with additional vocabulary, or to mix several algebras together to merge their vocabulary. This hierarchy can be seen in the <a href="api/endpoints4s/algebra/index.html#inheritance-diagram-container" title="endpoints4s.algebra"><code>diagram</code></a> generated by the API documentation.</p>
<p>The following table lists the available algebras and points to their documentation. You should start by reading the documentation of the <code>Endpoints</code> algebra, and the documentation of the <code>JsonEntities</code> and <code>JsonSchemas</code> algebras if you want to work with JSON.</p>
<table>
  <thead>
    <tr>
      <th>Name </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="algebras/endpoints.html">Endpoints</a></td>
      <td>HTTP endpoints</td>
    </tr>
    <tr>
      <td><a href="algebras/json-entities.html">JsonEntities</a></td>
      <td>JSON request and response entities</td>
    </tr>
    <tr>
      <td><a href="algebras/json-schemas.html">JsonSchemas</a></td>
      <td>JSON schemas of data types</td>
    </tr>
    <tr>
      <td><a href="algebras/chunked-entities.html">ChunkedEntities</a></td>
      <td>Streamed requests and responses</td>
    </tr>
    <tr>
      <td><a href="algebras/assets.html">Assets</a></td>
      <td>Asset segments, endpoints serving fingerprinted assets</td>
    </tr>
    <tr>
      <td><a href="algebras/mux-endpoints.html">MuxEndpoints</a></td>
      <td>Multiplexed HTTP endpoints</td>
    </tr>
  </tbody>
</table>
<h2><a href="#interpreters" name="interpreters" class="anchor"><span class="anchor-link"></span></a>Interpreters</h2>
<p>Interpreters give a concrete meaning to the vocabulary and operations provided by the algebras. They usually rely on other libraries (e.g. circe, Pekko HTTP, etc.) to do so. Pick the interpreters that fit your existing stack!</p>
<table>
  <thead>
    <tr>
      <th>Family </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="interpreters/pekko-http.html">Pekko HTTP</a> </td>
      <td>Client and server backed by <a href="https://pekko.apache.org/docs/pekko/current/">Pekko HTTP</a> </td>
    </tr>
    <tr>
      <td><a href="https://endpoints4s.github.io/akka-http">Akka HTTP</a> </td>
      <td>Client and server backed by <a href="https://doc.akka.io/docs/akka-http/current/">Akka HTTP</a> </td>
    </tr>
    <tr>
      <td><a href="interpreters/http4s.html">http4s</a> </td>
      <td>Client and server backed by <a href="https://http4s.org">http4s</a> </td>
    </tr>
    <tr>
      <td><a href="https://endpoints4s.github.io/play">Play framework</a> </td>
      <td>Client and server backed by <a href="https://www.playframework.com/">Play framework</a> </td>
    </tr>
    <tr>
      <td><a href="interpreters/scalajs-web-fetch.html">Scala.js web (Fetch)</a> </td>
      <td>Scala.js web client using <code>Fetch</code> </td>
    </tr>
    <tr>
      <td><a href="https://endpoints4s.github.io/xhr">Scala.js web (XHR)</a> </td>
      <td>Scala.js web client using <code>XMLHttpRequest</code> </td>
    </tr>
    <tr>
      <td><a href="https://endpoints4s.github.io/scalaj">scalaj-http</a> </td>
      <td>JVM client backed by <a href="https://github.com/scalaj/scalaj-http">scalaj-http</a> </td>
    </tr>
    <tr>
      <td><a href="interpreters/sttp.html">sttp</a> </td>
      <td>JVM client backed by <a href="https://github.com/softwaremill/sttp">sttp</a> </td>
    </tr>
    <tr>
      <td><a href="interpreters/openapi.html">OpenAPI</a> </td>
      <td>Generates <a href="https://github.com/OAI/OpenAPI-Specification">OpenAPI</a> documents for endpoints definitions </td>
    </tr>
    <tr>
      <td><a href="interpreters/circe.html">circe</a> </td>
      <td>Builds <a href="http://circe.github.io/circe/">circe</a> codecs out of JSON schema definitions </td>
    </tr>
    <tr>
      <td><a href="interpreters/play-json.html">Play JSON</a> </td>
      <td>Builds <a href="https://github.com/playframework/play-json">Play JSON</a> Reads and Writes out of JSON schema definitions </td>
    </tr>
  </tbody>
</table><div class="callout note "><div class="callout-title">Note</div>
<p>You can have different stacks on the client-side and the server-side. For instance, you can have a server backed by Play framework, a client backed by Pekko HTTP, and another client backed by Scala.js (for web browsers).</p></div>
</div>
<div>
<a href="https://github.com/endpoints4s/endpoints4s/tree/master/documentation/manual/src/main/paradox/algebras-and-interpreters.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
1.11.0
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="design.html" title="Design in a nutshell" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Design in a nutshell
</span>
</div>
</a>
<a href="algebras/endpoints.html" title="Endpoints" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Endpoints
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/endpoints4s/endpoints4s" class="md-footer-social__link fa fa-github"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="assets/javascripts/application.583bbe55.js"></script>
<script src="assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"."}})</script>
<script type="text/javascript" src="lib/prettify/prettify.js"></script>
<script type="text/javascript" src="lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
